<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <link type="text/css" rel="stylesheet" href="../css/results.css"/>
    <title>Screlp</title>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>
    <script>
        function initialize() {
            var myLatlng = new google.maps.LatLng({{ lat }}, {{ long }});
            var mapOptions = {
                zoom: 13,
                center: myLatlng
            };
            var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
            var locations = [
                {% for x, y in coords %}
                    [{{ x }}, {{ y }}],
                {% endfor %}
            ];
            for (i = 0; i < locations.length; i++) {
                var marker = new google.maps.Marker({
                    position: new google.maps.LatLng(locations[i][0], locations[i][1]),
                    map: map
                });
            }
        }
        google.maps.event.addDomListener(window, 'load', initialize);
    </script>
</head>

<body>

    <div id="map-canvas" style="height: 750px; width: auto; display: block;"></div>

    <table class=result_table>
    <tr>
        <th>Position</th>
        <th>ID</th>
        <th>Name</th>
        <th>Phone</th>
        <th>Address</th>
        <th>City</th>
        <th>State</th>
        <th>Zip Code</th>
        <th>Rating</th>
        <th>Review Count</th>
        <th>Category</th>
    </tr>

    {% for item in yelp_results %}
    <tr>
        <td>{{ item.result_position }}</td>
        <td>{{ item.id }}</td>
        <td>{{ item.name }}</td>
        <td>{{ item.phone }}</td>
        <td>{{ item.address }}</td>
        <td>{{ item.city }}</td>
        <td>{{ item.state }}</td>
        <td>{{ item.zip }}</td>
        <td>{{ item.rating }}</td>
        <td>{{ item.review_count }}</td>
        <td>{{ item.category }}</td>
    </tr>
    {% endfor %}
    </table>

</body>
</html>
